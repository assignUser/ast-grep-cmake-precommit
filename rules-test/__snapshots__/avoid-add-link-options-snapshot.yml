id: avoid-add-link-options
snapshots:
  ? |
    # Conditional directory-wide options - still should trigger
    if(UNIX)
        add_link_options(-pthread)
    elseif(WIN32)
        add_link_options(/DEBUG)
    endif()
  : labels:
    - source: add_link_options(-pthread)
      style: primary
      start: 73
      end: 99
  ? |-
    # Mixed usage - still should trigger
    add_executable(myapp src/main.cpp)
    add_link_options(-static)
    target_link_options(myapp PRIVATE -Wl,--strip-all)
  : labels:
    - source: add_link_options(-static)
      style: primary
      start: 72
      end: 97
  ? |
    # Using variables
    set(LINK_FLAGS -pthread -Wl,--as-needed)
    add_link_options(${LINK_FLAGS})
  : labels:
    - source: add_link_options(${LINK_FLAGS})
      style: primary
      start: 59
      end: 90
  ? |
    # Windows style options
    add_link_options(/SUBSYSTEM:CONSOLE /DEBUG)
  : labels:
    - source: add_link_options(/SUBSYSTEM:CONSOLE /DEBUG)
      style: primary
      start: 24
      end: 67
  ? |
    add_link_options(
        -pthread
        -Wl,--as-needed
        -static-libgcc
    )
  : labels:
    - source: |-
        add_link_options(
            -pthread
            -Wl,--as-needed
            -static-libgcc
        )
      style: primary
      start: 0
      end: 71
  ? |
    add_link_options(-Wl,--as-needed -Wl,--no-undefined)
  : labels:
    - source: add_link_options(-Wl,--as-needed -Wl,--no-undefined)
      style: primary
      start: 0
      end: 52
  add_link_options(-pthread):
    labels:
    - source: add_link_options(-pthread)
      style: primary
      start: 0
      end: 26
  ? |
    cmake_minimum_required(VERSION 3.13)
    project(TestProject)
    add_link_options(-fPIC)
  : labels:
    - source: add_link_options(-fPIC)
      style: primary
      start: 58
      end: 81
