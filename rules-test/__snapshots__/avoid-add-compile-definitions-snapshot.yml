id: avoid-add-compile-definitions
snapshots:
  ? |-
    # Mixed with target definitions - still should trigger
    add_library(mylib src/lib.cpp)
    add_compile_definitions(GLOBAL_DEFINE)
    target_compile_definitions(mylib PRIVATE LOCAL_DEFINE)
  : labels:
    - source: add_compile_definitions(GLOBAL_DEFINE)
      style: primary
      start: 86
      end: 124
  ? |
    # Multiple definitions
    add_compile_definitions(DEBUG TESTING VERSION=2.0)
  : labels:
    - source: add_compile_definitions(DEBUG TESTING VERSION=2.0)
      style: primary
      start: 23
      end: 73
  ? |
    # Using variables
    set(MY_DEFS DEBUG PROFILE)
    add_compile_definitions(${MY_DEFS})
  : labels:
    - source: add_compile_definitions(${MY_DEFS})
      style: primary
      start: 45
      end: 80
  ? |
    add_compile_definitions(
        DEBUG_MODE
        VERSION=1.2.3
    )
  : labels:
    - source: |-
        add_compile_definitions(
            DEBUG_MODE
            VERSION=1.2.3
        )
      style: primary
      start: 0
      end: 59
  ? |
    add_compile_definitions(FOO BAR=value)
  : labels:
    - source: add_compile_definitions(FOO BAR=value)
      style: primary
      start: 0
      end: 38
  add_compile_definitions(FOO):
    labels:
    - source: add_compile_definitions(FOO)
      style: primary
      start: 0
      end: 28
  ? |
    cmake_minimum_required(VERSION 3.12)
    project(TestProject)
    add_compile_definitions(PROJECT_GLOBAL)
  : labels:
    - source: add_compile_definitions(PROJECT_GLOBAL)
      style: primary
      start: 58
      end: 97
